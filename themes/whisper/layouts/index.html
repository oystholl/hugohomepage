{{ define "title" }}Hugo Whisper Theme Demo{{ end}}
{{ define "header_css" }}{{ end }}
{{ define "body_classes" }}page-home{{ end }}
{{ define "header_classes" }}{{ end }}

{{ define "meta_tags" }}
<meta name="description" content="{{ .Site.Params.homepage_meta_tags.meta_description }}" />
<meta property="og:title" content="{{ .Site.Params.homepage_meta_tags.meta_og_title }}" />
<meta property="og:type" content="{{ .Site.Params.homepage_meta_tags.meta_og_type }}" />
<meta property="og:url" content="{{ .Site.Params.homepage_meta_tags.meta_og_url }}" />
<meta property="og:image" content="{{ .Site.Params.homepage_meta_tags.meta_og_image }}" />
<meta property="og:description" content="{{ .Site.Params.homepage_meta_tags.meta_og_description }}" />
<meta name="twitter:card" content="{{ .Site.Params.homepage_meta_tags.meta_twitter_card }}" />
<meta name="twitter:site" content="{{ .Site.Params.homepage_meta_tags.meta_twitter_site }}" />
<meta name="twitter:creator" content="{{ .Site.Params.homepage_meta_tags.meta_twitter_creator }}" />
{{ end }}

{{ define "main" }}
<div class="strip">
  <div class="container pt-4 pb-16">
    <div class="row">
      <div class="col-12">
        <h1 class="title">{{ .Title | default .Site.Title }}</h1>
        <div class="content">
          {{ if .Content }}
          {{ .Content }}
          {{ else }}
          <p>{{ .Site.Params.homepage_intro }}</p>
          {{ end }}
        </div>
        <form action="./" method="GET" id="search-form">
          <input type="search" name="q" id="search-box" placeholder="Search">
        </form>

        <a class="button button-primary mb-2" href="{{ .Site.Params.homepage_button_link | relURL }}">
          {{ .Site.Params.homepage_button_text }}
        </a>
      </div>
    </div>
  </div>
</div>

{{ if .Site.Params.homepage_image }}
<div class="strip">
  <div class="container pt-4 pb-4">
    <div class="row justify-content-center">
      <div class="col-12 col-md-10">
        <div class="terminal">
          <img src="{{ .Site.Params.homepage_image | relURL}}" />
        </div>
      </div>
    </div>
  </div>
</div>
{{ end }}

{{ if eq .Title "Welcome"}}
<section>
  <div class="grid">
    <div class="whole">
      <article>
        <h1>Search for: <span id="search-title"></span></h1>
        <div id="search-results">
        </div>
      </article>
    </div>
  </div>
  <div class="clear"></div>
</section>

{{ end }}

<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script type="text/javascript" src="./js/lunr.min.js"></script>
<script>

    TODO: endre dir til noe som passer bedre med url-ene
  window.store = [];
  //console.log(window.store);
  {{ range .Site.AllPages }}
  window.store[{{ .Dir }}] = {
    title:    {{ .Title }},
    content:  {{ .Plain }},
    html:     {{ .Content }},
    url:      {{ .RelPermalink }}
  };
  //console.log(window.store);
  {{ end }}

</script>
<script type="text/javascript" src="./js/search.js"></script>


{{ end }}

{{ define "footer_js" }}
{{ end }}